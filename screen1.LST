C51 COMPILER V9.56.0.0   SCREEN1                                                           10/29/2017 01:24:29 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE SCREEN1
OBJECT MODULE PLACED IN .\Objects\screen1.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE screen1.c OPTIMIZE(9,SIZE) BROWSE MODP2 DEBUG OBJECTEXTEND TABS(2) OBJEC
                    -T(.\Objects\screen1.obj)

line level    source

   1          /*
   2          void screen1()
   3          {
   4          //  char i;
   5            //unsigned char *p_time;
   6            
   7            //reset to line 1 of LCD, position 0
   8            //cmd(LCD_HOME);
   9            
  10            //get the time
  11            //p_time = rtc_get_time();
  12            
  13            //--------------print the time-------------
  14            /*
  15            for(i = 2; i >= 0; i++)
  16            {
  17              print_o(*(p_time+i));
  18              write_int(*(p_time+i));
  19              write_char(':');
  20            }
  21            
  22            //hours
  23            print_o(*(p_time+2));
  24            write_int(*(p_time+2));
  25            write_char(':');
  26            
  27            //minutes
  28            print_o(*(p_time+1));
  29            write_int(*(p_time+1)); 
  30            write_char(':');
  31            
  32            //seconds
  33            print_o(*(p_time));
  34            write_int(*(p_time));
  35            write_char(' ');
  36            
  37            //readDHT11();
  38            //print_temp();
  39            
  40            //print temp
  41            write_int(bmpTemp/100);
  42            write_char('.');
  43            write_int(bmpTemp % 100);
  44            //write temperature symbol *c
  45            write_char(0);
  46            write_char(' ');
  47            
  48            cmd(LCD_LINE_2);
  49            
  50            //day
  51            print_o(*(p_time+4));
  52            write_int(*(p_time+4));
  53            write_char('/');
  54            //month
C51 COMPILER V9.56.0.0   SCREEN1                                                           10/29/2017 01:24:29 PAGE 2   

  55            print_o(*(p_time+5));
  56            write_int(*(p_time+5));
  57            write_char('/');
  58            //year
  59            print_o(*(p_time+6));
  60            write_int(*(p_time+6));
  61            
  62            
  63            write_char(' ');
  64          
  65            write_int(bmpPressure/1000);
  66            write_int((bmpPressure % 1000) / 100);
  67            write_char('.');
  68            write_int(bmpPressure % 100);
  69          
  70            /*
  71            matrixSend(0x01, bcdToDec(*(p_time)));
  72            
  73            matrixSend(0x02, bcdToDec(*(p_time+1)));
  74            matrixSend(0x03, bcdToDec(*(p_time+2)));
  75            
  76            
  77            //seconds
  78            matrixSend(0x01, (*(p_time) & 0x0F));
  79            serial_convert((*(p_time) & 0x0F));
  80          
  81            matrixSend(0x02, (*(p_time)/10 & 0x0F));
  82            serial_convert((*(p_time)/10 & 0x0F));
  83            serial_send(' ');
  84            
  85            //minutes
  86            matrixSend(0x03, (*(p_time+1) & 0x0F));
  87            serial_convert((*(p_time+1) & 0x0F));
  88            
  89            matrixSend(0x04, (*(p_time+1)/10 & 0x0F));
  90            serial_convert((*(p_time+1)/10 & 0x0F));
  91            serial_send(' ');
  92            
  93            //hours
  94            matrixSend(0x05, (*(p_time+2) & 0x0F));
  95            serial_convert((*(p_time+2) & 0x0F));
  96            
  97            matrixSend(0x06, (*(p_time+2)/10 & 0x0F));
  98            serial_convert((*(p_time+2)/10 & 0x0F));
  99            serial_send(' ');
 100            
 101            serial_send('\r');
 102            serial_send('\n');
 103            
 104              /*
 105              maxTest(0x04, (*(p_time)+4));
 106              maxTest(0x05, (*(p_time)+5));
 107              maxTest(0x06, (*(p_time)+6));
 108              maxTest(0x07, (*(p_time)+3));
 109            
 110            //cmd(LCD_LINE_2);
 111            
 112          //  print_pressure();
 113          }
 114          
 115          void serial()
 116          {
C51 COMPILER V9.56.0.0   SCREEN1                                                           10/29/2017 01:24:29 PAGE 3   

 117            Sprint_o(*(p_time+2));
 118            serial_convert(*(p_time+2));
 119            serial_send(':');
 120            
 121            //minutes
 122            Sprint_o(*(p_time+1));
 123            serial_convert(*(p_time+1));  
 124            serial_send(':');
 125            
 126            //seconds
 127            Sprint_o(*(p_time));
 128            serial_convert(*(p_time));
 129            serial_send(' ');
 130            
 131            //readDHT11();
 132            //print_temp();
 133            
 134            //print temp
 135            serial_convert(bmpTemp/100);
 136            serial_send('.');
 137            serial_convert(bmpTemp % 100);
 138            //write temperature symbol *c
 139            serial_send('*');
 140            serial_send('C');
 141            serial_send(' ');
 142            
 143            //day
 144            Sprint_o(*(p_time+4));
 145            serial_convert(*(p_time+4));
 146            serial_send('/');
 147            //month
 148            Sprint_o(*(p_time+5));
 149            serial_convert(*(p_time+5));
 150            serial_send('/');
 151            //year
 152            Sprint_o(*(p_time+6));
 153            serial_convert(*(p_time+6));
 154            
 155            serial_send(' ');
 156            
 157            serial_convert(bmpPressure/1000);
 158            serial_convert((bmpPressure % 1000) / 100);
 159            serial_send('.');
 160            serial_convert(bmpPressure % 100);
 161            
 162            serial_send('\r');
 163            serial_send('\n');
 164          }
 165          */


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   ----    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
