C51 COMPILER V9.56.0.0   DHT11                                                             08/11/2017 23:44:22 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE DHT11
OBJECT MODULE PLACED IN .\Objects\DHT11.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE DHT11.c ROM(SMALL) OPTIMIZE(9,SIZE) BROWSE DEBUG OBJECTEXTEND TABS(2) OB
                    -JECT(.\Objects\DHT11.obj)

line level    source

   1          #include "DHT11.h"
   2          #include "timing.h"
   3          #include "LCD.h"
   4          
   5          void readDHT11()
   6          {
   7   1        char i, MAXTIMING;
   8   1        char count;
   9   1        char store[5] = {0, 0, 0, 0, 0};
  10   1        
  11   1        //write_string(store);
  12   1        //store = {'50','25'};
  13   1        //return; //store;
  14   1      
  15   1        DHT11 = 0;
  16   1        ms_delay(18); //delay 18ms
  17   1        DHT11 = 1;
  18   1        
  19   1        us_delay(20);
  20   1        
  21   1        for(i = 0; i < 40; i++)
  22   1        {
  23   2          while(DHT11 == 0)
  24   2          {
  25   3            MAXTIMING++;
  26   3            us_delay(1);
  27   3            if(MAXTIMING > 128)
  28   3              break;
  29   3          }
  30   2          MAXTIMINGS = 0;
*** ERROR C202 IN LINE 30 OF DHT11.c: 'MAXTIMINGS': undefined identifier
  31   2          while(DHT11 == 1)
  32   2          {
  33   3            count++;
  34   3            us_delay(1);
  35   3            
  36   3            MAXTIMINGS++;
*** ERROR C202 IN LINE 36 OF DHT11.c: 'MAXTIMINGS': undefined identifier
  37   3            if(MAXTIMING > 128)
  38   3              break;
  39   3          }
  40   2          if(count > 40)
  41   2          {
  42   3            store[i/8] = 1;
  43   3          }
  44   2          else
  45   2          {
  46   3            store[i/8] = 0;
  47   3          }
  48   2          count = 0;
  49   2        }
  50   1        
  51   1        if(validate(store) == 1)
  52   1        {
C51 COMPILER V9.56.0.0   DHT11                                                             08/11/2017 23:44:22 PAGE 2   

  53   2          store[0] = int_to_ascii(store[0]);
  54   2          write_char(store[0]);
  55   2          //write_char('\n');
  56   2          write_char(store[2]);
  57   2        }
  58   1        else
  59   1        {
  60   2          //idk, redo?-*
  61   2        }
  62   1      }
  63          
  64          char validate(char store[])
  65          {
  66   1        if((store[0] + store[2]) != store[4])
  67   1          return -1;
  68   1        else
  69   1          return 1;
  70   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  2 ERROR(S)
