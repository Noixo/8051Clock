C51 COMPILER V9.56.0.0   EXTERNAL                                                          10/29/2017 01:41:23 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE EXTERNAL
OBJECT MODULE PLACED IN .\Objects\external.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE external.c OPTIMIZE(9,SIZE) BROWSE MODP2 DEBUG OBJECTEXTEND TABS(2) OBJE
                    -CT(.\Objects\external.obj)

line level    source

   1          #include "external.h"
   2          #include "timing.h"
   3          #include "LCD.h"
   4          
   5          void external_setup()
   6          {
   7   1        //EXT0 for backlight
   8   1        IT0 = 1;
   9   1        EX0 = 1;
  10   1        EA = 1;
  11   1        
  12   1        //EXT1 for next screen
  13   1        IT1 = 1;
  14   1        EX1 = 1;
  15   1        
  16   1        backlight = 0;  //Turn on display
  17   1      }
  18          
  19          void check_night()
  20          {
  21   1        if (comparator == 0)  //If night time
  22   1        {
  23   2          backlight = 1;      //Turn off LCD backlight
  24   2        }
  25   1        else
  26   1        {
  27   2          backlight = 0;      //When daytime turn on light
  28   2        }
  29   1      }
  30          
  31          void ex0_isr(void) interrupt 0
  32          {
  33   1        unsigned char i;
  34   1        
  35   1        if (comparator == 0)  //If light is not on aka night time
  36   1        {
  37   2          backlight = 0;      //Sink current (pnp transistor)
  38   2          for(i = 0; i < 25; i++)
  39   2            ms_delay(200);    //5 second delay
  40   2          backlight = 1;      //Pull line high to turn off pnp transistor
  41   2        }
  42   1      }
  43          
  44          void next_screen() interrupt 1
  45          {
  46   1          cmd(LCD_CLEAR);     //Wipe screen
  47   1          
  48   1          //Go to next screen
  49   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    195    ----
   CONSTANT SIZE    =     16    ----
C51 COMPILER V9.56.0.0   EXTERNAL                                                          10/29/2017 01:41:23 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
